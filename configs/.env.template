# LLM推理服务环境变量配置模板
# 复制此文件为 .env 并根据实际环境修改配置

# =============================================================================
# 数据库配置
# =============================================================================
# TiDB数据库连接
DATABASE_URL=mysql+pymysql://root:@127.0.0.1:4000/llm_inference?charset=utf8mb4
MYSQL_PASSWORD=your_mysql_password_here

# 数据库连接池配置
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_RECYCLE=3600

# =============================================================================
# Redis配置
# =============================================================================
REDIS_URL=redis://127.0.0.1:6379/0
REDIS_PASSWORD=your_redis_password_here

# =============================================================================
# 应用配置
# =============================================================================
# 应用环境 (development/production/testing)
APP_ENV=production

# 日志级别 (DEBUG/INFO/WARNING/ERROR/CRITICAL)
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE_PATH=/opt/llm-inference-service/backend/logs/application.log

# 指标存储路径
METRICS_STORAGE_PATH=/opt/llm-inference-service/backend/data/metrics.db

# =============================================================================
# 安全配置
# =============================================================================
# JWT密钥 (生产环境请使用强密码)
SECRET_KEY=your_secret_key_here_change_in_production

# API访问令牌
API_TOKEN=your_api_token_here

# CORS允许的源
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# GPU和资源配置
# =============================================================================
# GPU检测间隔 (秒)
GPU_MONITOR_INTERVAL=30

# 默认GPU内存预留 (MB)
GPU_MEMORY_RESERVE=1024

# 最大并发模型数
MAX_CONCURRENT_MODELS=10

# =============================================================================
# 模型配置
# =============================================================================
# 模型存储路径
MODEL_STORAGE_PATH=/opt/llm-inference-service/models

# 默认模型超时时间 (秒)
MODEL_TIMEOUT=300

# 健康检查间隔 (秒)
HEALTH_CHECK_INTERVAL=60

# =============================================================================
# 监控配置
# =============================================================================
# Prometheus指标端口
PROMETHEUS_PORT=9090

# Grafana管理员密码
GRAFANA_PASSWORD=admin

# 告警邮件配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_email_password
ALERT_EMAIL_FROM=alerts@your-domain.com
ALERT_EMAIL_TO=admin@your-domain.com

# =============================================================================
# Docker配置
# =============================================================================
# Docker API版本
DOCKER_API_VERSION=1.41

# Docker socket路径
DOCKER_SOCKET_PATH=/var/run/docker.sock

# =============================================================================
# 网络配置
# =============================================================================
# 后端服务端口
BACKEND_PORT=8000

# 前端服务端口
FRONTEND_PORT=3000

# WebSocket端口
WEBSOCKET_PORT=8001

# =============================================================================
# 开发配置 (仅开发环境使用)
# =============================================================================
# 开发模式
DEBUG=false

# 热重载
AUTO_RELOAD=false

# 测试数据库
TEST_DATABASE_URL=sqlite:///./test.db