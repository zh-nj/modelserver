<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>慧儿模型园管理平台</title>
  <meta name="description" content="专业的大语言模型推理管理和监控平台">
  <meta name="theme-color" content="#1a73e8">

  <!-- 图标 -->
  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='4' y1='4' x2='28' y2='28' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0' stop-color='%2312B8A6'/%3E%3Cstop offset='1' stop-color='%234F46E5'/%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='16' cy='16' r='12' stroke='url(%23g)' stroke-width='2.2' fill='none'/%3E%3Cg transform='translate(16,16)'%3E%3Ccircle cx='0' cy='-12' r='1.3' fill='%23F5B700'/%3E%3Cg transform='rotate(120)'%3E%3Ccircle cx='0' cy='-12' r='1.3' fill='%2312B8A6'/%3E%3C/g%3E%3Cg transform='rotate(240)'%3E%3Ccircle cx='0' cy='-12' r='1.3' fill='%234F46E5'/%3E%3C/g%3E%3C/g%3E%3Crect x='11' y='10.8' width='2.8' height='10.4' rx='1.4' fill='%230F172A'/%3E%3Crect x='18.2' y='10.8' width='2.8' height='10.4' rx='1.4' fill='%230F172A'/%3E%3Cpath d='M13.4 16 H20' stroke='%230F172A' stroke-width='2.2' stroke-linecap='round'/%3E%3C/svg%3E">

  <!-- 字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- 图标库 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- 引入样式文件 -->
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <!-- Framework7应用容器 -->
  <div id="app" style="position: absolute; top: -9999px; left: -9999px; width: 1px; height: 1px; opacity: 0;"></div>

  <!-- 顶部导航栏 -->
  <nav class="navbar">
    <div class="navbar-content">
      <a href="#" class="logo">
        <svg width="48" height="48" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="g" x1="4" y1="4" x2="28" y2="28" gradientUnits="userSpaceOnUse">
              <stop offset="0" stop-color="#12B8A6" />
              <stop offset="1" stop-color="#4F46E5" />
            </linearGradient>
          </defs>
          <circle cx="16" cy="16" r="12" stroke="url(#g)" stroke-width="2.2" fill="none" />
          <g transform="translate(16,16)">
            <circle cx="0" cy="-12" r="1.3" fill="#F5B700" />
            <g transform="rotate(120)">
              <circle cx="0" cy="-12" r="1.3" fill="#12B8A6" />
            </g>
            <g transform="rotate(240)">
              <circle cx="0" cy="-12" r="1.3" fill="#4F46E5" />
            </g>
          </g>
          <rect x="11" y="10.8" width="2.8" height="10.4" rx="1.4" fill="#0F172A" />
          <rect x="18.2" y="10.8" width="2.8" height="10.4" rx="1.4" fill="#0F172A" />
          <path d="M13.4 16 H20" stroke="#0F172A" stroke-width="2.2" stroke-linecap="round" />
        </svg>
        <span>慧儿模型园</span>
      </a>

      <div class="nav-actions">
        <div class="last-update">
          <span id="nav-last-update-time">最后更新: --</span>
        </div>
      </div>
    </div>
  </nav>

  <!-- 主要内容 -->
  <main class="main-content">
    <div class="container">
      <!-- 页面标题 -->
      <header class="page-header fade-in">
      </header>

      <!-- 系统仪表板 -->
      <section class="dashboard-section fade-in">
        <!-- 详细监控面板 -->
        <div class="monitoring-panels">
          <!-- GPU监控面板 -->
          <div class="monitoring-panel">
            <div class="panel-header">
              <h3><i class="fas fa-microchip"></i> GPU监控</h3>
              <div class="panel-status">
                <span id="gpu-status-indicator" class="status-dot"></span>
                <span id="gpu-status-text">检测中</span>
              </div>
            </div>
            <div class="panel-content">
              <div id="gpu-monitoring">
                <div class="loading-placeholder">
                  <i class="fas fa-spinner fa-spin"></i>
                  <span>正在加载GPU数据...</span>
                </div>
              </div>
            </div>
          </div>

          <!-- 系统资源面板 -->
          <div class="monitoring-panel">
            <div class="panel-header">
              <h3><i class="fas fa-chart-area"></i> 系统资源</h3>
              <div class="panel-status">
                <span id="system-status-indicator" class="status-dot"></span>
                <span id="system-status-text">检测中</span>
              </div>
            </div>
            <div class="panel-content">
              <div id="system-monitoring">
                <div class="loading-placeholder">
                  <i class="fas fa-spinner fa-spin"></i>
                  <span>正在加载系统数据...</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 模型状态面板 -->
        <div class="models-status-panel">
          <div class="panel-header">
            <h3><i class="fas fa-brain"></i> 模型状态概览</h3>
            <div class="panel-actions">
              <button class="btn btn-primary" onclick="openModelManagement()">
                <i class="fas fa-plus"></i>
                添加模型
              </button>
            </div>
          </div>
          <div class="panel-content">
            <div id="models-status">
              <div class="loading-placeholder">
                <i class="fas fa-spinner fa-spin"></i>
                <span>正在加载模型数据...</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 快速操作面板 -->
        <div class="quick-actions-panel">
          <div class="panel-header">
            <h3><i class="fas fa-bolt"></i> 快速操作</h3>
          </div>
          <div class="panel-content">
            <div class="quick-actions-grid">
              <button class="quick-action-btn" onclick="openModelManagement()">
                <i class="fas fa-brain"></i>
                <span>模型管理</span>
              </button>
              <button class="quick-action-btn" onclick="openTaskScheduler()">
                <i class="fas fa-tasks"></i>
                <span>任务调度</span>
              </button>
              <button class="quick-action-btn" onclick="openSystemConfig()">
                <i class="fas fa-cogs"></i>
                <span>系统配置</span>
              </button>
              <button class="quick-action-btn" onclick="viewLogs()">
                <i class="fas fa-file-alt"></i>
                <span>查看日志</span>
              </button>
              <button class="quick-action-btn" onclick="viewTaskHistory()">
                <i class="fas fa-history"></i>
                <span>执行历史</span>
              </button>
              <a href="http://localhost:8000/docs" target="_blank" class="quick-action-btn">
                <i class="fas fa-book"></i>
                <span>API文档</span>
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- 快速操作 -->
      <section class="features-section slide-in">
        <h2 class="section-title">
          <i class="fas fa-rocket"></i>
          快速操作
        </h2>
        <div class="cards-grid">
          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <div class="card-icon primary">
                  <i class="fas fa-brain"></i>
                </div>
                <span>模型管理</span>
              </div>
            </div>
            <div class="card-content">
              <p>管理和配置大语言模型，支持模型加载、卸载和参数调优</p>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="openModelManagement()">
                  <i class="fas fa-plus"></i>
                  添加模型
                </button>
                <button class="btn btn-secondary" onclick="listModels()">
                  <i class="fas fa-list"></i>
                  模型列表
                </button>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <div class="card-icon success">
                  <i class="fas fa-tasks"></i>
                </div>
                <span>任务调度</span>
              </div>
            </div>
            <div class="card-content">
              <p>查看和管理推理任务队列，监控任务执行状态和性能</p>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="openTaskScheduler()">
                  <i class="fas fa-calendar-alt"></i>
                  任务队列
                </button>
                <button class="btn btn-secondary" onclick="viewTaskHistory()">
                  <i class="fas fa-history"></i>
                  执行历史
                </button>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-title">
                <div class="card-icon warning">
                  <i class="fas fa-cog"></i>
                </div>
                <span>系统配置</span>
              </div>
            </div>
            <div class="card-content">
              <p>系统参数配置、用户权限管理和服务设置</p>
              <div class="btn-group">
                <button class="btn btn-primary" onclick="openSystemConfig()">
                  <i class="fas fa-wrench"></i>
                  系统设置
                </button>
                <button class="btn btn-secondary" onclick="viewLogs()">
                  <i class="fas fa-file-alt"></i>
                  查看日志
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 核心功能 -->
      <section class="features-section">
        <h2 class="section-title">
          <i class="fas fa-star"></i>
          核心功能
        </h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon primary">
              <i class="fas fa-cogs"></i>
            </div>
            <h3 class="feature-title">多框架支持</h3>
            <p class="feature-description">支持llama.cpp、vLLM、Docker等多种推理框架，灵活适配不同模型需求</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon success">
              <i class="fas fa-microchip"></i>
            </div>
            <h3 class="feature-title">智能资源调度</h3>
            <p class="feature-description">基于优先级的GPU资源自动分配，支持抢占式调度和负载均衡</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon warning">
              <i class="fas fa-chart-bar"></i>
            </div>
            <h3 class="feature-title">实时监控</h3>
            <p class="feature-description">全面的GPU利用率、模型健康状态和性能指标实时监控</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon error">
              <i class="fas fa-shield-alt"></i>
            </div>
            <h3 class="feature-title">高可用性</h3>
            <p class="feature-description">自动故障转移、健康检查、配置备份和灾难恢复机制</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon primary">
              <i class="fas fa-code"></i>
            </div>
            <h3 class="feature-title">RESTful API</h3>
            <p class="feature-description">完整的REST API接口，支持模型管理、监控查询和系统配置</p>
          </div>

          <div class="feature-card">
            <div class="feature-icon success">
              <i class="fas fa-desktop"></i>
            </div>
            <h3 class="feature-title">Web管理界面</h3>
            <p class="feature-description">直观的Web界面，支持桌面端和移动端，提供完整的管理功能</p>
          </div>
        </div>
      </section>

      <!-- 页脚信息 -->
      <footer
        style="margin-top: 48px; padding: 24px 0; border-top: 1px solid var(--border-color); text-align: center; color: var(--text-secondary);">
        <p>慧儿模型园管理平台 v1.0.0</p>
        <p style="margin-top: 8px; font-size: 14px;">
          © 2025 LLM Inference Service.
          <a href="http://localhost:8000/docs" target="_blank"
            style="color: var(--primary-color); text-decoration: none;">API文档</a> |
          <a href="http://localhost:8000/health" target="_blank"
            style="color: var(--primary-color); text-decoration: none;">健康检查</a>
        </p>
      </footer>
    </div>
  </main>

  <!-- 通知容器 -->
  <div id="notification" class="notification"></div>

  <!-- 引入分离的JavaScript文件 -->
  <script src="/js/app.js"></script>
  <script src="/js/dashboard.js"></script>
  <script src="/js/navigation.js"></script>
  <script src="/js/models.js"></script>
  <script src="/js/file-browser.js"></script>
  <script src="/js/model-form.js"></script>
  <script src="/js/system-config.js"></script>
  
  <script type="module" src="/src/main.ts"></script>
</body>

</html>